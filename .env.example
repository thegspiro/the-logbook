# ============================================
# THE LOGBOOK - SIMPLIFIED CONFIGURATION
# ============================================
# Quick setup guide for The Logbook
#
# STEP 1: Copy this file
#   cp .env.example .env
#
# STEP 2: Generate secrets (run these commands):
#   python3 -c "import secrets; print('SECRET_KEY=' + secrets.token_urlsafe(64))"
#   python3 -c "import secrets; print('ENCRYPTION_KEY=' + secrets.token_hex(32))"
#   python3 -c "import secrets; print('MYSQL_ROOT_PASSWORD=' + secrets.token_urlsafe(32))"
#   python3 -c "import secrets; print('DB_PASSWORD=' + secrets.token_urlsafe(32))"
#   python3 -c "import secrets; print('REDIS_PASSWORD=' + secrets.token_urlsafe(32))"
#
# STEP 3: Replace the CHANGE_ME values below with generated secrets
#
# STEP 4: Update ALLOWED_ORIGINS with your URLs
#
# STEP 5: Start the application:
#   docker-compose up -d
#
# Need more options? See .env.example.full for all available settings
# ============================================

# ============================================
# SECURITY KEYS (REQUIRED)
# ============================================
# CRITICAL: Generate unique values for production!
# Never use these defaults in production!

SECRET_KEY=CHANGE_ME_GENERATE_WITH_STEP_2_ABOVE
ENCRYPTION_KEY=CHANGE_ME_GENERATE_WITH_STEP_2_ABOVE

# ============================================
# DATABASE (REQUIRED)
# ============================================

# Database credentials
MYSQL_ROOT_PASSWORD=CHANGE_ME_GENERATE_WITH_STEP_2_ABOVE
DB_NAME=the_logbook
DB_USER=logbook_user
DB_PASSWORD=CHANGE_ME_GENERATE_WITH_STEP_2_ABOVE

# Database connection (for Docker Compose, use service names)
DB_HOST=db
DB_PORT=3306

# ============================================
# REDIS CACHE (REQUIRED)
# ============================================

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_GENERATE_WITH_STEP_2_ABOVE

# ============================================
# APPLICATION
# ============================================

APP_NAME=The Logbook
VERSION=1.0.0
ENVIRONMENT=production  # development, staging, or production
DEBUG=false  # NEVER set to true in production!

# ============================================
# NETWORK & CORS
# ============================================
# Add all URLs that will access the frontend
# For local development: http://localhost:3000,http://127.0.0.1:3000
# For Unraid: http://YOUR-UNRAID-IP:7880
# Multiple origins: separate with commas

ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ============================================
# PORTS
# ============================================
# Standard Docker Compose ports

FRONTEND_PORT=3000
BACKEND_PORT=3001

# Unraid users: Use these instead
# FRONTEND_PORT=7880
# BACKEND_PORT=7881

# ============================================
# TIMEZONE
# ============================================
# Set your local timezone
# Full list: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones

TZ=America/New_York

# ============================================
# MODULES (Optional - Enable/Disable Features)
# ============================================
# Set to true or false based on what your organization needs

MODULE_TRAINING_ENABLED=true
MODULE_COMPLIANCE_ENABLED=true
MODULE_SCHEDULING_ENABLED=true
MODULE_ELECTIONS_ENABLED=true

# ============================================
# EMAIL (Optional - Leave disabled if not needed)
# ============================================

EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM_EMAIL=noreply@yourdomain.com

# ============================================
# BACKUP (Recommended)
# ============================================

BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# ============================================
# MONITORING
# ============================================

LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
ENABLE_DOCS=true  # API documentation at /docs
SENTRY_ENABLED=false  # Error tracking (requires SENTRY_DSN)

# ============================================
# UNRAID SPECIFIC (Only if using Unraid)
# ============================================

PUID=99  # nobody user
PGID=100  # users group

# ============================================
# SETUP VERIFICATION CHECKLIST
# ============================================
# Before starting the application, verify:
#
# [ ] Copied this file to .env
# [ ] Generated all security keys using the commands in STEP 2
# [ ] Replaced all CHANGE_ME values
# [ ] Set ALLOWED_ORIGINS to match your URLs
# [ ] Set correct timezone (TZ)
# [ ] Email configured (if EMAIL_ENABLED=true)
# [ ] Ports don't conflict with other services
#
# Start the application:
#   docker-compose up -d
#
# Check logs:
#   docker-compose logs -f
#
# Access the app:
#   http://localhost:3000 (or your configured URL)
#
# Need more configuration options?
#   See .env.example.full for all available settings
# ============================================
