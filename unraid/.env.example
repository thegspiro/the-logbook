# ============================================
# THE LOGBOOK - UNRAID DOCKER COMPOSE ENVIRONMENT
# ============================================
# Copy this file to .env and configure before running docker-compose
#
# Quick Start:
#   1. Copy: cp .env.example .env
#   2. Generate secrets: openssl rand -hex 32
#   3. Update all CHANGE_ME values below
#   4. Run: docker-compose up -d
# ============================================

# ============================================
# REQUIRED: Application Secrets
# ============================================
# Generate these with: openssl rand -hex 32
# NEVER use the same key twice!
# NEVER commit these to git!

SECRET_KEY=CHANGE_ME_generate_with_openssl_rand_hex_32
ENCRYPTION_KEY=CHANGE_ME_generate_with_openssl_rand_hex_32
ENCRYPTION_SALT=CHANGE_ME_generate_with_openssl_rand_hex_16

# ============================================
# REQUIRED: Database Passwords
# ============================================
# Set strong passwords for database security
# Generate with: openssl rand -base64 32

MYSQL_ROOT_PASSWORD=CHANGE_ME_strong_root_password
DB_PASSWORD=CHANGE_ME_strong_database_password
REDIS_PASSWORD=CHANGE_ME_strong_redis_password

# ============================================
# Database Configuration
# ============================================
# These connect to the MariaDB container included in docker-compose
# DO NOT change DB_HOST or REDIS_HOST unless you know what you're doing

DB_NAME=the_logbook
DB_USER=logbook_user

# ============================================
# REQUIRED: Network Configuration
# ============================================
# Replace 192.168.1.10 with YOUR Unraid server IP address
# Find your IP with: ip addr show

ALLOWED_ORIGINS=http://192.168.1.10:7880

# ============================================
# Application Settings
# ============================================

APP_NAME=The Logbook
VERSION=1.0.0
ENVIRONMENT=production

# IMPORTANT: Set to false in production!
DEBUG=false

# ============================================
# Ports
# ============================================
# Default ports are conflict-free for Unraid
# Change if these ports are already in use

FRONTEND_PORT=7880
BACKEND_PORT=7881

# ============================================
# Timezone
# ============================================
# Set to your local timezone
# List: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones

TZ=America/New_York

# ============================================
# Unraid User/Group IDs
# ============================================
# Default Unraid values - typically don't need to change
# nobody user (99) and users group (100)

PUID=99
PGID=100

# ============================================
# Email Configuration (Optional)
# ============================================
# Enable email notifications for events, password resets, etc.
# Leave EMAIL_ENABLED=false to disable email features

EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@yourdomain.com

# ============================================
# Storage Configuration
# ============================================

STORAGE_TYPE=local
MAX_FILE_SIZE=52428800

# ============================================
# Backup Configuration
# ============================================

BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Optional: Cloud backup (S3, Azure, GCS)
# BACKUP_S3_ENABLED=false
# BACKUP_S3_BUCKET=
# BACKUP_S3_ACCESS_KEY=
# BACKUP_S3_SECRET_KEY=
# BACKUP_S3_REGION=us-east-1

# ============================================
# Module Configuration
# ============================================
# Enable/disable specific modules

MODULE_TRAINING_ENABLED=true
MODULE_COMPLIANCE_ENABLED=true
MODULE_SCHEDULING_ENABLED=true
MODULE_ELECTIONS_ENABLED=true

# ============================================
# Monitoring & Logging
# ============================================

ENABLE_DOCS=true
LOG_LEVEL=INFO
SENTRY_ENABLED=false

# ============================================
# Advanced Settings
# ============================================
# Only change if you know what you're doing

RATE_LIMIT_ENABLED=true

# ============================================
# SETUP CHECKLIST
# ============================================
# Before running docker-compose up -d:
#
# [ ] Copied this file to .env
# [ ] Generated SECRET_KEY with: openssl rand -hex 32
# [ ] Generated ENCRYPTION_KEY with: openssl rand -hex 32
# [ ] Generated ENCRYPTION_SALT with: openssl rand -hex 16
# [ ] Set strong MYSQL_ROOT_PASSWORD
# [ ] Set strong DB_PASSWORD
# [ ] Set strong REDIS_PASSWORD
# [ ] Updated ALLOWED_ORIGINS with your Unraid IP
# [ ] Set correct TZ timezone
# [ ] Reviewed all CHANGE_ME values
# [ ] Saved the file
#
# Ready to start:
#   docker-compose up -d
#
# Check logs:
#   docker-compose logs -f
#
# Access application:
#   http://YOUR-UNRAID-IP:7880
# ============================================
